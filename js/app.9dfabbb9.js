(function(){"use strict";var t={220:function(t,e,a){var r=a(5130),i=a(6768),n=a(4232);const s={style:{"text-align":"left"}},o={class:"today"},l={style:{"margin-left":"20px"}},u={style:{"margin-left":"100px"}},c={class:"real"},d={class:"temp"},h={class:"realinfo"},p={class:"realinfo",style:{"margin-left":"20px"}},f={class:"realinfo",style:{"margin-left":"20px"}},m={class:"real"},y={class:"realinfo"},w={class:"realinfo",style:{"margin-left":"20px"}},v={class:"future"};function b(t,e,a,b,g,k){const D=(0,i.g2)("el-input"),_=(0,i.g2)("el-header"),x=(0,i.g2)("el-table-column"),O=(0,i.g2)("el-table"),L=(0,i.g2)("el-main"),j=(0,i.g2)("el-container");return(0,i.uX)(),(0,i.CE)("div",s,[(0,i.bF)(j,{class:"container"},{default:(0,i.k6)((()=>[(0,i.bF)(_,null,{default:(0,i.k6)((()=>[(0,i.bF)(D,{placeholder:"请输入",onKeydown:(0,r.jR)(k.click,["enter"]),class:"input",modelValue:b.city,"onUpdate:modelValue":e[0]||(e[0]=t=>b.city=t)},{title:(0,i.k6)((()=>e[1]||(e[1]=[(0,i.eW)("城市名：")]))),_:1},8,["onKeydown","modelValue"])])),_:1}),(0,i.bF)(L,{class:"main"},{default:(0,i.k6)((()=>[(0,i.Lk)("div",o,[(0,i.Lk)("span",null,(0,n.v_)(b.city),1),e[2]||(e[2]=(0,i.eW)("今天： ")),(0,i.Lk)("span",null,(0,n.v_)(this.todayData.weather??this.pic)+(0,n.v_)(this.todayData.temperature??this.plc),1),(0,i.Lk)("span",l,(0,n.v_)(this.todayData.direct??this.plc),1),(0,i.Lk)("span",u,(0,n.v_)(this.todayData.data??this.plc),1)]),(0,i.Lk)("div",c,[(0,i.Lk)("span",d,(0,n.v_)(this.realtime.temperature??this.plc),1),(0,i.Lk)("span",h,(0,n.v_)(this.realtime.info??this.plc),1),(0,i.Lk)("span",p,(0,n.v_)(this.realtime.direct??this.plc),1),(0,i.Lk)("span",f,(0,n.v_)(this.realtime.power??this.plc),1)]),(0,i.Lk)("div",m,[(0,i.Lk)("span",y,"空气质量："+(0,n.v_)(this.realtime.aqi??this.plc),1),(0,i.Lk)("span",w,"湿度："+(0,n.v_)(this.realtime.humidity??this.plc),1)]),(0,i.Lk)("div",v,[e[3]||(e[3]=(0,i.Lk)("div",{class:"header"},"5日天气预报",-1)),(0,i.bF)(O,{data:b.futureData,style:{"margin-top":"30px"}},{default:(0,i.k6)((()=>[(0,i.bF)(x,{label:"日期",prop:"date"}),(0,i.bF)(x,{label:"温度",prop:"temperature"}),(0,i.bF)(x,{label:"天气",prop:"weather"}),(0,i.bF)(x,{label:"风向",prop:"direct"})])),_:1},8,["data"])])])),_:1})])),_:1})])}var g=a(144),k=a(1219),D={name:"App",components:{},setup(){let t=(0,g.KR)(3),e=(0,g.KR)("杭州"),a=(0,g.KR)({}),r=(0,g.KR)({weather:"",direct:"",temperature:"",data:[]}),i=(0,g.KR)({temperature:"",info:"",direct:"",power:""}),n=(0,g.KR)([]),s=(0,g.KR)("暂无数据"),o=(0,g.KR)("");return{num:t,city:e,todayData:r,pic:s,realtime:i,futureData:n,weatherData:a,plc:o}},methods:{async requestData(){let t=encodeURI(this.city),e=`/simpleWeather/query?city=${t}&key=aa6c8be7ab68b9417183d0daaf83e740`;await this.axios.get(e).then((t=>{let e={reason:"查询成功!",result:{city:"杭州",realtime:{temperature:"28",humidity:"84",info:"雷阵雨",wid:"04",direct:"东北风",power:"3级",aqi:"50"},future:[{date:"2024-09-10",temperature:"23/34℃",weather:"雷阵雨转中到大雨",wid:{day:"04",night:"22"},direct:"东北风转北风"},{date:"2024-09-11",temperature:"25/30℃",weather:"小到中雨转小雨",wid:{day:"21",night:"07"},direct:"东北风转北风"},{date:"2024-09-12",temperature:"26/33℃",weather:"雷阵雨转多云",wid:{day:"04",night:"01"},direct:"东南风转南风"},{date:"2024-09-13",temperature:"24/33℃",weather:"晴",wid:{day:"00",night:"00"},direct:"东风"},{date:"2024-09-14",temperature:"25/32℃",weather:"小雨",wid:{day:"07",night:"07"},direct:"东风转持续无风向"}]},error_code:0};console.log("response.data:",t.data," data:",JSON.stringify(t.data)),this.num+=1,0==t.data.error_code?(this.num=0,this.weatherData=t.data,this.todayData=this.weatherData.result.future[0],this.realtime=this.weatherData.result.realtime,this.futureData=this.weatherData.result.future):((0,k.nk)({type:"warning",message:this.city+"天气查询，"+t.data.reason,duration:5e3}),this.city="杭州",this.num<3&&this.requestData(),this.weatherData=e,this.city=this.weatherData.result.city,this.todayData=this.weatherData.result.future[0],this.realtime=this.weatherData.result.realtime,this.futureData=this.weatherData.result.future)}))},click(){this.requestData()}},mounted(){const{proxy:t}=(0,i.nI)();t.axios.defaults.baseURL="/myApi",this.requestData()}},_=a(1241);const x=(0,_.A)(D,[["render",b]]);var O=x,L=a(4099),j=(a(4188),a(4373)),R=a(6942);const F=(0,r.Ef)(O);F.use(L.A),F.use(R.A,j.A),F.mount("#app")}},e={};function a(r){var i=e[r];if(void 0!==i)return i.exports;var n=e[r]={id:r,loaded:!1,exports:{}};return t[r].call(n.exports,n,n.exports,a),n.loaded=!0,n.exports}a.m=t,function(){a.amdO={}}(),function(){var t=[];a.O=function(e,r,i,n){if(!r){var s=1/0;for(c=0;c<t.length;c++){r=t[c][0],i=t[c][1],n=t[c][2];for(var o=!0,l=0;l<r.length;l++)(!1&n||s>=n)&&Object.keys(a.O).every((function(t){return a.O[t](r[l])}))?r.splice(l--,1):(o=!1,n<s&&(s=n));if(o){t.splice(c--,1);var u=i();void 0!==u&&(e=u)}}return e}n=n||0;for(var c=t.length;c>0&&t[c-1][2]>n;c--)t[c]=t[c-1];t[c]=[r,i,n]}}(),function(){a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,{a:e}),e}}(),function(){a.d=function(t,e){for(var r in e)a.o(e,r)&&!a.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){a.hmd=function(t){return t=Object.create(t),t.children||(t.children=[]),Object.defineProperty(t,"exports",{enumerable:!0,set:function(){throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+t.id)}}),t}}(),function(){a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={524:0};a.O.j=function(e){return 0===t[e]};var e=function(e,r){var i,n,s=r[0],o=r[1],l=r[2],u=0;if(s.some((function(e){return 0!==t[e]}))){for(i in o)a.o(o,i)&&(a.m[i]=o[i]);if(l)var c=l(a)}for(e&&e(r);u<s.length;u++)n=s[u],a.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return a.O(c)},r=self["webpackChunkweather_forecast"]=self["webpackChunkweather_forecast"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=a.O(void 0,[504],(function(){return a(220)}));r=a.O(r)})();
//# sourceMappingURL=app.9dfabbb9.js.map